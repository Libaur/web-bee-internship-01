(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();function f(e,t){document.querySelector("#app").innerHTML=e,document.title=t}function h(){const e=[56.326797,44.005986],t=new ymaps.Map("map",{center:e,zoom:10}),o=new ymaps.Placemark(e,{hintContent:"Нижний Новгород",balloonContent:"Город на Волге"});t.geoObjects.add(o)}function w(e){if(e==="/web-bee-internship-01/map"){const t=document.querySelector("#map");t&&(t.classList.add("lds-circle"),ymaps.ready(()=>{h(),t.classList.remove("lds-circle")}))}}function b(e){document.querySelectorAll(".nav-link").forEach(t=>{t.classList.remove("active")}),e.classList.add("active")}function y(e){sessionStorage.setItem("activeLink",e.href)}function v(){var t;const e=sessionStorage.getItem("activeLink");e?document.querySelectorAll(".nav-link").forEach(o=>{const s=o;s.href===e&&(s.classList.add("active"),window.history.replaceState({},"",e))}):(t=document.querySelector("#main-page"))==null||t.classList.add("active")}function L(e){b(e),y(e)}const r={paths:{"/web-bee-internship-01/404":"/public/404.html","/web-bee-internship-01/":"/public/profile.html","/web-bee-internship-01/map":"/public/map.html","/web-bee-internship-01/time":"/public/timer.html"},titles:{"/web-bee-internship-01/404":"Page not found","/web-bee-internship-01/":"Profile","/web-bee-internship-01/map":"Map","/web-bee-internship-01/time":"Time"}};document.addEventListener("DOMContentLoaded",function(){window.history.replaceState({},"","/web-bee-internship-01/"),a()});const a=async()=>{const e=window.location.pathname,t=r.paths[e]||r.paths[404],o=r.titles[e]||r.titles[404],s=await fetch(t).then(n=>n.text());f(s,o),w(e),v()},m=e=>{e.preventDefault();const t=e.target;window.history.pushState({},"",t.href),L(t),a()};document.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",m)});const g=window;window.onpopstate=a;g.route=m;a();const c={milliseconds:1e3*60*60,seconds:1e3*60};let u;window.addEventListener("load",S);function S(){u=Date.now(),T(),requestAnimationFrame(p)}function T(){const e=sessionStorage.getItem("timerValue");e&&(u-=parseInt(e))}function p(){const e=Date.now()-u,t=q(e),o=document.querySelector("#count");o&&(o.textContent=t),P(e),requestAnimationFrame(p)}function q(e){const t=Math.floor(e/c.milliseconds),o=Math.floor(e%c.milliseconds/c.seconds),s=Math.floor(e%c.seconds/1e3);return`${d(t)}:${d(o)}:${d(s)}`}const d=e=>e.toString().padStart(2,"0"),P=e=>{sessionStorage.setItem("timerValue",e.toString())};
