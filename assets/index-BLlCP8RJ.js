(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const s="/web-bee-internship-01/",a="active",m=".nav-link";function y(e,t){document.querySelector("#app").innerHTML=e,document.title=t}function w(e){document.querySelectorAll(m).forEach(t=>{t.classList.remove(a)}),e.classList.add(a)}function L(e){sessionStorage.setItem("activeLink",e.href)}function g(){var t;const e=sessionStorage.getItem("activeLink");e?document.querySelectorAll(m).forEach(r=>{const i=r;i.href===e&&(i.classList.add(a),window.history.replaceState({},"",e))}):(t=document.querySelector("#main-page"))==null||t.classList.add(a)}function S(){const e=[56.326797,44.005986],t=new ymaps.Map("map",{center:e,zoom:10}),r=new ymaps.Placemark(e,{hintContent:"Нижний Новгород",balloonContent:"Город на Волге"});t.geoObjects.add(r)}function v(e){if(e===`${s}map`){const t=document.querySelector("#map");t&&(t.classList.add("lds-circle"),ymaps.ready(()=>{S(),t.classList.remove("lds-circle")}))}}const T=[{path:`${s}`,title:"Profile",file:"profile.html"},{path:`${s}map`,title:"Map",file:"map.html"},{path:`${s}time`,title:"Time",file:"timer.html"}];document.addEventListener("DOMContentLoaded",q);function q(){window.location.pathname.startsWith(s)||(window.history.replaceState({},"",s),l())}async function l(){try{const e=window.location.pathname,t=T.find(o=>o.path===e);if(!t)throw Error("invalid path");const r=t.title,i=await fetch(t.path).then(o=>o.text());y(i,r),v(e),g()}catch(e){console.error(e)}}function p(e){e.preventDefault();const t=e.target;window.history.pushState({},"",t.href),w(t),L(t),l()}document.querySelectorAll(m).forEach(e=>{e.addEventListener("click",p)});const P=window;window.onpopstate=l;P.route=p;l();const c={milliseconds:1e3*60*60,seconds:1e3*60};let f;window.addEventListener("load",M);function M(){f=Date.now(),b(),requestAnimationFrame(h)}function b(){const e=sessionStorage.getItem("timerValue");e&&(f-=parseInt(e))}function h(){const e=Date.now()-f,t=document.querySelector("#count");t&&(t.textContent=A(e)),E(e),requestAnimationFrame(h)}function A(e){const t=Math.floor(e/c.milliseconds),r=Math.floor(e%c.milliseconds/c.seconds),i=Math.floor(e%c.seconds/1e3);return`${u(t)}:${u(r)}:${u(i)}`}const u=e=>e.toString().padStart(2,"0"),E=e=>{sessionStorage.setItem("timerValue",e.toString())};
