(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();const d={profile:"/web-bee-internship-01/",map:"/web-bee-internship-01/map",time:"/web-bee-internship-01/time"};function h(e,t){document.querySelector("#app").innerHTML=e,document.title=t}function y(e){document.querySelectorAll(".nav-link").forEach(t=>{t.classList.remove("active")}),e.classList.add("active")}function w(e){sessionStorage.setItem("activeLink",e.href)}function L(){var t;const e=sessionStorage.getItem("activeLink");e?document.querySelectorAll(".nav-link").forEach(i=>{const r=i;r.href===e&&(r.classList.add("active"),window.history.replaceState({},"",e))}):(t=document.querySelector("#main-page"))==null||t.classList.add("active")}function g(){const e=[56.326797,44.005986],t=new ymaps.Map("map",{center:e,zoom:10}),i=new ymaps.Placemark(e,{hintContent:"Нижний Новгород",balloonContent:"Город на Волге"});t.geoObjects.add(i)}function v(e){if(e===d.map){const t=document.querySelector("#map");t&&(t.classList.add("lds-circle"),ymaps.ready(()=>{g(),t.classList.remove("lds-circle")}))}}const u={paths:{profile:"profile.html",map:"map.html",time:"timer.html"},titles:{profile:"Profile",map:"Map",time:"Time"}};document.addEventListener("DOMContentLoaded",S);function S(){window.location.pathname.startsWith(d.profile)||(window.history.replaceState({},"",d.profile),a())}async function a(){const e=window.location.pathname,t=u.paths[e],i=u.titles[e],r=await fetch(t).then(o=>o.text());h(r,i),v(e),L()}function f(e){e.preventDefault();const t=e.target;window.history.pushState({},"",t.href),y(t),w(t),a()}document.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",f)});const T=window;window.onpopstate=a;T.route=f;a();const s={milliseconds:1e3*60*60,seconds:1e3*60};let m;window.addEventListener("load",b);function b(){m=Date.now(),q(),requestAnimationFrame(p)}function q(){const e=sessionStorage.getItem("timerValue");e&&(m-=parseInt(e))}function p(){const e=Date.now()-m,t=document.querySelector("#count");t&&(t.textContent=P(e)),M(e),requestAnimationFrame(p)}function P(e){const t=Math.floor(e/s.milliseconds),i=Math.floor(e%s.milliseconds/s.seconds),r=Math.floor(e%s.seconds/1e3);return`${l(t)}:${l(i)}:${l(r)}`}const l=e=>e.toString().padStart(2,"0"),M=e=>{sessionStorage.setItem("timerValue",e.toString())};
